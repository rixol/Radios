<!DOCTYPE html>
<html lang="es">
<!-- http://ciudadblogger-jquery.blogspot.mx/2014/04/html5-audio-player.html -->
<head>

    <meta charset="utf-8">
    <link rel="shortcut icon" href="img/favicon.ico" />

    <title>Radios y lista 40</title>

    <!-- JavaScript -->  
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    
    <!-- Hojas de estilos -->
    <link rel="stylesheet" type="text/css" href="css/mi_disenio.css">

</head>

<body>
    <center>

    <div class='margin'>
    
        <div id='player'>

            <audio controls autoplay id='audio' preload='auto' tabindex='0' type='audio/mpeg'>
                 <source src='http://208.80.54.77/LOS40_MEXICO_SC' type='audio/mp3' />
            </audio>

        </div>
            <ul id='playlist'>

                <li class="active"><a 
                href='http://208.80.54.77/LOS40_MEXICO_SC'>
                Los 40 principales MX</a></li>
                
                <li><a 
                href='http://192.99.6.50:9862/;stream.nsv'>
                Radio Delicias</a></li>

                <li><a 
                href='http://9333.live.streamtheworld.com/XHEXA_SC'>
                EXA Fm Mexico</a></li>

                <li><a 
                href='http://184.107.217.186:9364/;stream.nsv'>
                Radio maiz</a></li>

                <li><a 
                href='http://ursmediafiles-mobile.media.streamtheworld.com/objetos/audios/dest/010002163895.mp4'>
                2 Pillowtalk - Zayn Malik</a></li>

                <li><a 
                href='http://ursmediafiles-mobile.media.streamtheworld.com/objetos/audios/dest/010002121675.mp4'>
                3 No soy una de esas</a></li>

                <li><a 
                href='http://ursmediafiles-mobile.media.streamtheworld.com/objetos/audios/dest/520004487905.mp4'>
                4 Love yourself - Justin Bieber</a></li>

                <li><a 
                href='http://ursmediafiles-mobile.media.streamtheworld.com/objetos/audios/dest/010002156336.mp4'>
                5 Stressed out</a></li>

                <li><a 
                href='http://ursmediafiles-mobile.media.streamtheworld.com/objetos/audios/dest/520004479035.mp4'>
                7 Light it up - Major Lazer;Fuse ODG;NYLA</a></li>

                <li><a 
                href='http://ursmediafiles-mobile.media.streamtheworld.com/objetos/audios/dest/010002129594.mp4'>
                8 Fast car - Jonas Blue;Dakota </a></li>

                <li><a 
                href='http://ursmediafiles-mobile.media.streamtheworld.com/objetos/audios/dest/010002157614.mp4'>
                17 7 Years - Lukas Graham </a></li>

                <li><a 
                href='http://ursmediafiles-mobile.media.streamtheworld.com/objetos/audios/dest/010002110831.mp4'>
                19 Adventure of a lifetime - Coldplay</a></li>

                <li><a 
                href='http://ursmediafiles-mobile.media.streamtheworld.com/objetos/audios/dest/010002106458.mp4'>
                30 Bang my head - David Guetta;Fetty Wap;Sia</a></li>

                <li><a 
                href='http://ursmediafiles-mobile.media.streamtheworld.com/objetos/audios/dest/520004487912.mp4'>
                37 Sweet lovin - Sigala</a></li>

                <li><a 
                href='http://ursmediafiles-mobile.media.streamtheworld.com/objetos/audios/dest/520004494050.mp4'>
                39 Hands to myself - Selena-Gomez</a></li>

                <li><a 
                href='http://ursmediafiles-mobile.media.streamtheworld.com/objetos/audios/dest/570004493804.mp4'>
                40 In the night - The Weeknd</a></li>
                 
            </ul>
    </div>
    
    </center>

    <script type="text/javascript">
        var audio;
        var playlist;
        var tracks;
        var current;

        init();
        function init(){
            current = 0;
            audio = $('audio');
            playlist = $('#playlist');
            tracks = playlist.find('li a');
            len = tracks.length - 1;
            audio[0].volume = 1;
            playlist.find('a').click(function(e){
                e.preventDefault();
                link = $(this);
                current = link.parent().index();
                run(link, audio[0]);
            });
            audio[0].addEventListener('ended',function(e){
                current++;
                if(current > len){
                    current = 0;
                    link = playlist.find('a')[0];
                }else{
                    link = playlist.find('a')[current];    
                }
                run($(link),audio[0]);
            });
        }
        function run(link, player){
            player.src = link.attr('href');
            par = link.parent();
            par.addClass('active').siblings().removeClass('active');
            audio[0].load();
            audio[0].play();
        }       
    </script>

</body>
</html>
